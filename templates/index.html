{% extends 'base.html'%}

{% block head %} 
    <title> Task Manager </title>
    <style> 
        table { 
            width: 100%; 
            border-collapse: collapse;
        }
        th, td { 
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        th { 
            background-color: #f2f2f2;
        }
    </style>

{% endblock %}

{% block body %} 

    <div> 
        <h1> Task Manager </h1> 
        {% if tasks| length < 1 %}
            <p> No tasks available. Add a task below </p>
        {% else %}
        <table> 
            <tr> 
                <th> Task </th>
                <th> Due Date </th>
                <th> Actions </th>
            </tr>
            {% for task in tasks %} 
                <tr> 
                    <td> {{ task.content }} </td>
                    <td> {{ task.date_created.strftime('%Y-%m-%d') }} </td>
                    <td> 
                        <a href="/update/{{ task.id }}"> Update </a>
                        <br>
                        <a href="/delete/{{ task.id }}"> Delete </a>
                    </td> 
                </tr>
            {% endfor %}
        </table>
        {% endif %}
        <div class="form">
            <form action="/" method="POST"> 
                <input type="text" name="content" id="content "placeholder="Task">
                <input type="date" name="due_date" id="due_date">
                <button type="submit" > Add Task </button>
            </form>
        <div>
    </div>
{% endblock %}